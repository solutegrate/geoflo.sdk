

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: src/ux/Locate.js | Documentation</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
        
            <link type="text/css" rel="stylesheet" href="./styles/custom.css">
        
    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="">
        
            <a href="https://demo.geoflo.pro" rel="noopener noreferrer" target="_blank">
                <img src="https://geoflo.s3.amazonaws.com/logos/logo_full_white.png" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Documentation</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
        <ol class="lnb-tab">
            <li id="api-tab">
                <a href="#"><h4>API</h4></a>
            </li>
            <li id="examples-tab">
                <a href="#"><h4>Examples</h4></a>
            </li>
        </ol>
    
    <div class="lnb-examples hidden"><h3>Examples</h3><ul><li><a href="tutorial-demo.html">GeoFlo Demo</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="demo_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-GeoFlo.html">GeoFlo</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.html#.activateExploring">activateExploring</a></li><li><a href="module-GeoFlo.html#.activatePainting">activatePainting</a></li><li><a href="module-GeoFlo.html#.activatePinning">activatePinning</a></li><li><a href="module-GeoFlo.html#.activateRouting">activateRouting</a></li><li><a href="module-GeoFlo.html#.activateSnapping">activateSnapping</a></li><li><a href="module-GeoFlo.html#.addFeatures">addFeatures</a></li><li><a href="module-GeoFlo.html#.addFeaturesToMesh">addFeaturesToMesh</a></li><li><a href="module-GeoFlo.html#.addFeaturesToSelected">addFeaturesToSelected</a></li><li><a href="module-GeoFlo.html#.addGamepad">addGamepad</a></li><li><a href="module-GeoFlo.html#.addPlugin">addPlugin</a></li><li><a href="module-GeoFlo.html#.addTooltip">addTooltip</a></li><li><a href="module-GeoFlo.html#.cancelEdit">cancelEdit</a></li><li><a href="module-GeoFlo.html#.combineSelectedFeatures">combineSelectedFeatures</a></li><li><a href="module-GeoFlo.html#.createPolygon">createPolygon</a></li><li><a href="module-GeoFlo.html#.deactivateExploring">deactivateExploring</a></li><li><a href="module-GeoFlo.html#.deactivatePainting">deactivatePainting</a></li><li><a href="module-GeoFlo.html#.deactivatePinning">deactivatePinning</a></li><li><a href="module-GeoFlo.html#.deactivateRouting">deactivateRouting</a></li><li><a href="module-GeoFlo.html#.deactivateSnapping">deactivateSnapping</a></li><li><a href="module-GeoFlo.html#.deleteMeshData">deleteMeshData</a></li><li><a href="module-GeoFlo.html#.deleteUserData">deleteUserData</a></li><li><a href="module-GeoFlo.html#.disable">disable</a></li><li><a href="module-GeoFlo.html#.editFeature">editFeature</a></li><li><a href="module-GeoFlo.html#.enable">enable</a></li><li><a href="module-GeoFlo.html#.fire">fire</a></li><li><a href="module-GeoFlo.html#.forEachSelectedFeature">forEachSelectedFeature</a></li><li><a href="module-GeoFlo.html#.getButtons">getButtons</a></li><li><a href="module-GeoFlo.html#.getColors">getColors</a></li><li><a href="module-GeoFlo.html#.getCommonGeometryType">getCommonGeometryType</a></li><li><a href="module-GeoFlo.html#.getDrawnFeatures">getDrawnFeatures</a></li><li><a href="module-GeoFlo.html#.getFeatureById">getFeatureById</a></li><li><a href="module-GeoFlo.html#.getFeatures">getFeatures</a></li><li><a href="module-GeoFlo.html#.getFeaturesByLayer">getFeaturesByLayer</a></li><li><a href="module-GeoFlo.html#.getMap">getMap</a></li><li><a href="module-GeoFlo.html#.getMode">getMode</a></li><li><a href="module-GeoFlo.html#.getModes">getModes</a></li><li><a href="module-GeoFlo.html#.getRenderedDrawnFeatures">getRenderedDrawnFeatures</a></li><li><a href="module-GeoFlo.html#.getRenderedFeatures">getRenderedFeatures</a></li><li><a href="module-GeoFlo.html#.getRenderedSnapFeatures">getRenderedSnapFeatures</a></li><li><a href="module-GeoFlo.html#.getSelectedFeatureIds">getSelectedFeatureIds</a></li><li><a href="module-GeoFlo.html#.getSelectedFeatures">getSelectedFeatures</a></li><li><a href="module-GeoFlo.html#.getSelectedFeaturesBbox">getSelectedFeaturesBbox</a></li><li><a href="module-GeoFlo.html#.getSelectedPropertyNames">getSelectedPropertyNames</a></li><li><a href="module-GeoFlo.html#.getSelectedPropertyValues">getSelectedPropertyValues</a></li><li><a href="module-GeoFlo.html#.hasControls">hasControls</a></li><li><a href="module-GeoFlo.html#.hasSelection">hasSelection</a></li><li><a href="module-GeoFlo.html#.hasSingleSelection">hasSingleSelection</a></li><li><a href="module-GeoFlo.html#.hideSelectedFeatures">hideSelectedFeatures</a></li><li><a href="module-GeoFlo.html#.init">init</a></li><li><a href="module-GeoFlo.html#.initialize">initialize</a></li><li><a href="module-GeoFlo.html#.load">load</a></li><li><a href="module-GeoFlo.html#.loadFeatures">loadFeatures</a></li><li><a href="module-GeoFlo.html#.moveFeature">moveFeature</a></li><li><a href="module-GeoFlo.html#.moveMapAlongLine">moveMapAlongLine</a></li><li><a href="module-GeoFlo.html#.moveSelectedFeatures">moveSelectedFeatures</a></li><li><a href="module-GeoFlo.html#.off">off</a></li><li><a href="module-GeoFlo.html#.on">on</a></li><li><a href="module-GeoFlo.html#.once">once</a></li><li><a href="module-GeoFlo.html#.redraw">redraw</a></li><li><a href="module-GeoFlo.html#.refresh">refresh</a></li><li><a href="module-GeoFlo.html#.refreshMeshData">refreshMeshData</a></li><li><a href="module-GeoFlo.html#.removeControls">removeControls</a></li><li><a href="module-GeoFlo.html#.removeFeature">removeFeature</a></li><li><a href="module-GeoFlo.html#.removeFeatures">removeFeatures</a></li><li><a href="module-GeoFlo.html#.removeGamepad">removeGamepad</a></li><li><a href="module-GeoFlo.html#.removePopup">removePopup</a></li><li><a href="module-GeoFlo.html#.removeSelection">removeSelection</a></li><li><a href="module-GeoFlo.html#.saveEdit">saveEdit</a></li><li><a href="module-GeoFlo.html#.saveFeatures">saveFeatures</a></li><li><a href="module-GeoFlo.html#.setActiveButton">setActiveButton</a></li><li><a href="module-GeoFlo.html#.setButtons">setButtons</a></li><li><a href="module-GeoFlo.html#.setCenterMarker">setCenterMarker</a></li><li><a href="module-GeoFlo.html#.setControls">setControls</a></li><li><a href="module-GeoFlo.html#.setCustomLayers">setCustomLayers</a></li><li><a href="module-GeoFlo.html#.setIcon">setIcon</a></li><li><a href="module-GeoFlo.html#.setMapClass">setMapClass</a></li><li><a href="module-GeoFlo.html#.setMeshFeatures">setMeshFeatures</a></li><li><a href="module-GeoFlo.html#.setMode">setMode</a></li><li><a href="module-GeoFlo.html#.setOptions">setOptions</a></li><li><a href="module-GeoFlo.html#.setSelectedFeatures">setSelectedFeatures</a></li><li><a href="module-GeoFlo.html#.setTheme">setTheme</a></li><li><a href="module-GeoFlo.html#.updateMeshData">updateMeshData</a></li><li><a href="module-GeoFlo.html#.updateOrientation">updateOrientation</a></li><li><a href="module-GeoFlo.html#.updateSelectedProperties">updateSelectedProperties</a></li><li><a href="module-GeoFlo.html#.zoomToFeatures">zoomToFeatures</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="module-GeoFlo.Mesh.html">Mesh</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Mesh_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Mesh.html#.addNewFeatures">addNewFeatures</a></li><li><a href="module-GeoFlo.Mesh.html#.getFeatureById">getFeatureById</a></li><li><a href="module-GeoFlo.Mesh.html#.getFeatures">getFeatures</a></li><li><a href="module-GeoFlo.Mesh.html#.getFeaturesByParentId">getFeaturesByParentId</a></li><li><a href="module-GeoFlo.Mesh.html#.getFeaturesFromIndex">getFeaturesFromIndex</a></li><li><a href="module-GeoFlo.Mesh.html#.removeFeature">removeFeature</a></li><li><a href="module-GeoFlo.Mesh.html#.splitSegmentAtPoint">splitSegmentAtPoint</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Namespaces</h3><ul><li><a href="module-GeoFlo.Features.html">GeoFlo.Features</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Features_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Features.html#.addFeature">addFeature</a></li><li><a href="module-GeoFlo.Features.html#.addFeatures">addFeatures</a></li><li><a href="module-GeoFlo.Features.html#.addUnits">addUnits</a></li><li><a href="module-GeoFlo.Features.html#.convertUnits">convertUnits</a></li><li><a href="module-GeoFlo.Features.html#.deleteFeatures">deleteFeatures</a></li><li><a href="module-GeoFlo.Features.html#.getColdFeatures">getColdFeatures</a></li><li><a href="module-GeoFlo.Features.html#.getFeatureById">getFeatureById</a></li><li><a href="module-GeoFlo.Features.html#.getFeaturesById">getFeaturesById</a></li><li><a href="module-GeoFlo.Features.html#.getType">getType</a></li><li><a href="module-GeoFlo.Features.html#.getUnits">getUnits</a></li><li><a href="module-GeoFlo.Features.html#.removeFeatures">removeFeatures</a></li><li><a href="module-GeoFlo.Features.html#.setFeatureState">setFeatureState</a></li><li><a href="module-GeoFlo.Features.html#.setFeaturesState">setFeaturesState</a></li><li><a href="module-GeoFlo.Features.html#.setText">setText</a></li><li><a href="module-GeoFlo.Features.html#.updateFeatures">updateFeatures</a></li><li><a href="module-GeoFlo.Features.html#.updateSource">updateSource</a></li></ul></div></li><li><a href="module-GeoFlo.Layers.html">GeoFlo.Layers</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Layers_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Layers.html#.addEventListeners">addEventListeners</a></li><li><a href="module-GeoFlo.Layers.html#.addLayer">addLayer</a></li><li><a href="module-GeoFlo.Layers.html#.addLayers">addLayers</a></li><li><a href="module-GeoFlo.Layers.html#.addSource">addSource</a></li><li><a href="module-GeoFlo.Layers.html#.addSources">addSources</a></li><li><a href="module-GeoFlo.Layers.html#.getCustomLayers">getCustomLayers</a></li><li><a href="module-GeoFlo.Layers.html#.getFeatures">getFeatures</a></li><li><a href="module-GeoFlo.Layers.html#.getLayer">getLayer</a></li><li><a href="module-GeoFlo.Layers.html#.getLayerIds">getLayerIds</a></li><li><a href="module-GeoFlo.Layers.html#.getLayers">getLayers</a></li><li><a href="module-GeoFlo.Layers.html#.getSelection">getSelection</a></li><li><a href="module-GeoFlo.Layers.html#.getSource">getSource</a></li><li><a href="module-GeoFlo.Layers.html#.getSourceIds">getSourceIds</a></li><li><a href="module-GeoFlo.Layers.html#.getSources">getSources</a></li><li><a href="module-GeoFlo.Layers.html#.getType">getType</a></li><li><a href="module-GeoFlo.Layers.html#.hasCustomLayers">hasCustomLayers</a></li><li><a href="module-GeoFlo.Layers.html#.init">init</a></li><li><a href="module-GeoFlo.Layers.html#.moveLayers">moveLayers</a></li><li><a href="module-GeoFlo.Layers.html#.refresh">refresh</a></li><li><a href="module-GeoFlo.Layers.html#.removeEventListeners">removeEventListeners</a></li><li><a href="module-GeoFlo.Layers.html#.removeLayer">removeLayer</a></li><li><a href="module-GeoFlo.Layers.html#.removeLayers">removeLayers</a></li><li><a href="module-GeoFlo.Layers.html#.removeSource">removeSource</a></li><li><a href="module-GeoFlo.Layers.html#.removeSources">removeSources</a></li><li><a href="module-GeoFlo.Layers.html#.setCustomLayers">setCustomLayers</a></li></ul><div class="member-type">Events</div><ul class="inner"><li><a href="module-GeoFlo.Layers.html#.event:onClusterClick">onClusterClick</a></li><li><a href="module-GeoFlo.Layers.html#.event:onLayerMouseout">onLayerMouseout</a></li><li><a href="module-GeoFlo.Layers.html#.event:onLayerMouseover">onLayerMouseover</a></li></ul></div></li><li><a href="module-GeoFlo.Map.html">GeoFlo.Map</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Map_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Map.html#.init">init</a></li><li><a href="module-GeoFlo.Map.html#.setExtent">setExtent</a></li><li><a href="module-GeoFlo.Map.html#.setOptions">setOptions</a></li><li><a href="module-GeoFlo.Map.html#.setPadding">setPadding</a></li><li><a href="module-GeoFlo.Map.html#.setStyle">setStyle</a></li><li><a href="module-GeoFlo.Map.html#.setViewport">setViewport</a></li></ul><div class="member-type">Events</div><ul class="inner"><li><a href="module-GeoFlo.Map.html#.event:onEvent">onEvent</a></li><li><a href="module-GeoFlo.Map.html#.event:onLoad">onLoad</a></li><li><a href="module-GeoFlo.Map.html#.event:onMapMove">onMapMove</a></li><li><a href="module-GeoFlo.Map.html#.event:onStyleLoad">onStyleLoad</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Mixins</h3><ul><li><a href="module-GeoFlo.Draw.html">Draw</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Draw_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Draw.html#.activate">activate</a></li><li><a href="module-GeoFlo.Draw.html#.canHandle">canHandle</a></li><li><a href="module-GeoFlo.Draw.html#.cancelEdit">cancelEdit</a></li><li><a href="module-GeoFlo.Draw.html#.deactivate">deactivate</a></li><li><a href="module-GeoFlo.Draw.html#.deleteVertex">deleteVertex</a></li><li><a href="module-GeoFlo.Draw.html#.getFeature">getFeature</a></li><li><a href="module-GeoFlo.Draw.html#.handleClick">handleClick</a></li><li><a href="module-GeoFlo.Draw.html#.handleContext">handleContext</a></li><li><a href="module-GeoFlo.Draw.html#.handleDown">handleDown</a></li><li><a href="module-GeoFlo.Draw.html#.handleDrag">handleDrag</a></li><li><a href="module-GeoFlo.Draw.html#.handleHistory">handleHistory</a></li><li><a href="module-GeoFlo.Draw.html#.handleIcon">handleIcon</a></li><li><a href="module-GeoFlo.Draw.html#.handleMove">handleMove</a></li><li><a href="module-GeoFlo.Draw.html#.handleOffMap">handleOffMap</a></li><li><a href="module-GeoFlo.Draw.html#.handleOnMap">handleOnMap</a></li><li><a href="module-GeoFlo.Draw.html#.handlePainting">handlePainting</a></li><li><a href="module-GeoFlo.Draw.html#.handleRectangle">handleRectangle</a></li><li><a href="module-GeoFlo.Draw.html#.handleRedo">handleRedo</a></li><li><a href="module-GeoFlo.Draw.html#.handleText">handleText</a></li><li><a href="module-GeoFlo.Draw.html#.handleTouch">handleTouch</a></li><li><a href="module-GeoFlo.Draw.html#.handleUndo">handleUndo</a></li><li><a href="module-GeoFlo.Draw.html#.handleUp">handleUp</a></li><li><a href="module-GeoFlo.Draw.html#.saveEdit">saveEdit</a></li><li><a href="module-GeoFlo.Draw.html#.selectFeature">selectFeature</a></li><li><a href="module-GeoFlo.Draw.html#.updateHotSource">updateHotSource</a></li></ul></div></li><li><a href="module-GeoFlo.Exploring.html">Exploring</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Exploring_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Exploring.html#.activate">activate</a></li><li><a href="module-GeoFlo.Exploring.html#.deactivate">deactivate</a></li><li><a href="module-GeoFlo.Exploring.html#.getFeatures">getFeatures</a></li><li><a href="module-GeoFlo.Exploring.html#.getMatch">getMatch</a></li><li><a href="module-GeoFlo.Exploring.html#.getRoute">getRoute</a></li><li><a href="module-GeoFlo.Exploring.html#.setFeature">setFeature</a></li><li><a href="module-GeoFlo.Exploring.html#.setFeatures">setFeatures</a></li></ul></div></li><li><a href="module-GeoFlo.Gamepad.html">Gamepad</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Gamepad_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Gamepad.html#.init">init</a></li><li><a href="module-GeoFlo.Gamepad.html#.refresh">refresh</a></li><li><a href="module-GeoFlo.Gamepad.html#.remove">remove</a></li><li><a href="module-GeoFlo.Gamepad.html#.setBearing">setBearing</a></li><li><a href="module-GeoFlo.Gamepad.html#.setCenter">setCenter</a></li><li><a href="module-GeoFlo.Gamepad.html#.setContainer">setContainer</a></li><li><a href="module-GeoFlo.Gamepad.html#.setGamepad">setGamepad</a></li><li><a href="module-GeoFlo.Gamepad.html#.setLocation">setLocation</a></li><li><a href="module-GeoFlo.Gamepad.html#.setMap">setMap</a></li><li><a href="module-GeoFlo.Gamepad.html#.setMarker">setMarker</a></li><li><a href="module-GeoFlo.Gamepad.html#.setPitch">setPitch</a></li><li><a href="module-GeoFlo.Gamepad.html#.setSpeed">setSpeed</a></li><li><a href="module-GeoFlo.Gamepad.html#.setZoom">setZoom</a></li><li><a href="module-GeoFlo.Gamepad.html#.trigger">trigger</a></li></ul></div></li><li><a href="module-GeoFlo.Locate.html">Locate</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Locate_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Locate.html#.bearing">bearing</a></li><li><a href="module-GeoFlo.Locate.html#.build">build</a></li><li><a href="module-GeoFlo.Locate.html#.follow">follow</a></li><li><a href="module-GeoFlo.Locate.html#.getButton">getButton</a></li><li><a href="module-GeoFlo.Locate.html#.heading">heading</a></li><li><a href="module-GeoFlo.Locate.html#.init">init</a></li><li><a href="module-GeoFlo.Locate.html#.locate">locate</a></li><li><a href="module-GeoFlo.Locate.html#.ready">ready</a></li><li><a href="module-GeoFlo.Locate.html#.relocate">relocate</a></li><li><a href="module-GeoFlo.Locate.html#.removeClasses">removeClasses</a></li><li><a href="module-GeoFlo.Locate.html#.state">state</a></li><li><a href="module-GeoFlo.Locate.html#.unlocate">unlocate</a></li><li><a href="module-GeoFlo.Locate.html#.update">update</a></li></ul><div class="member-type">Events</div><ul class="inner"><li><a href="module-GeoFlo.Locate.html#.event:onAdd">onAdd</a></li><li><a href="module-GeoFlo.Locate.html#.event:onControlEvent">onControlEvent</a></li><li><a href="module-GeoFlo.Locate.html#.event:onLocate">onLocate</a></li><li><a href="module-GeoFlo.Locate.html#.event:onMapMove">onMapMove</a></li></ul></div></li><li><a href="module-GeoFlo.Painting.html">Painting</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Painting_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Painting.html#.activate">activate</a></li><li><a href="module-GeoFlo.Painting.html#.deactivate">deactivate</a></li><li><a href="module-GeoFlo.Painting.html#.handleUp">handleUp</a></li><li><a href="module-GeoFlo.Painting.html#.setFeature">setFeature</a></li><li><a href="module-GeoFlo.Painting.html#.updateFeature">updateFeature</a></li></ul></div></li><li><a href="module-GeoFlo.Pinning.html">Pinning</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Pinning_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Pinning.html#.activate">activate</a></li><li><a href="module-GeoFlo.Pinning.html#.deactivate">deactivate</a></li><li><a href="module-GeoFlo.Pinning.html#.getFeatures">getFeatures</a></li><li><a href="module-GeoFlo.Pinning.html#.getNearByFeatures">getNearByFeatures</a></li><li><a href="module-GeoFlo.Pinning.html#.resetFeatures">resetFeatures</a></li><li><a href="module-GeoFlo.Pinning.html#.setBuffer">setBuffer</a></li><li><a href="module-GeoFlo.Pinning.html#.setFeatures">setFeatures</a></li><li><a href="module-GeoFlo.Pinning.html#.updateFeatures">updateFeatures</a></li></ul></div></li><li><a href="module-GeoFlo.Routing.html">Routing</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Routing_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Routing.html#.activate">activate</a></li><li><a href="module-GeoFlo.Routing.html#.deactivate">deactivate</a></li><li><a href="module-GeoFlo.Routing.html#.getClosest">getClosest</a></li><li><a href="module-GeoFlo.Routing.html#.getFeatures">getFeatures</a></li><li><a href="module-GeoFlo.Routing.html#.getMatch">getMatch</a></li><li><a href="module-GeoFlo.Routing.html#.getRoute">getRoute</a></li></ul></div></li><li><a href="module-GeoFlo.Select.html">Select</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Select_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Select.html#.activate">activate</a></li><li><a href="module-GeoFlo.Select.html#.addPopup">addPopup</a></li><li><a href="module-GeoFlo.Select.html#.canHandle">canHandle</a></li><li><a href="module-GeoFlo.Select.html#.deactivate">deactivate</a></li><li><a href="module-GeoFlo.Select.html#.deselectCurrentFeature">deselectCurrentFeature</a></li><li><a href="module-GeoFlo.Select.html#.handleClick">handleClick</a></li><li><a href="module-GeoFlo.Select.html#.handleDrag">handleDrag</a></li><li><a href="module-GeoFlo.Select.html#.handleMove">handleMove</a></li><li><a href="module-GeoFlo.Select.html#.removePopup">removePopup</a></li><li><a href="module-GeoFlo.Select.html#.selectFeature">selectFeature</a></li></ul></div></li><li><a href="module-GeoFlo.Snapping.html">Snapping</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Snapping_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Snapping.html#.activate">activate</a></li><li><a href="module-GeoFlo.Snapping.html#.addFeature">addFeature</a></li><li><a href="module-GeoFlo.Snapping.html#.deactivate">deactivate</a></li><li><a href="module-GeoFlo.Snapping.html#.getClosest">getClosest</a></li><li><a href="module-GeoFlo.Snapping.html#.setClosest">setClosest</a></li><li><a href="module-GeoFlo.Snapping.html#.setFeature">setFeature</a></li><li><a href="module-GeoFlo.Snapping.html#.setVertex">setVertex</a></li><li><a href="module-GeoFlo.Snapping.html#.updateFeature">updateFeature</a></li></ul></div></li><li><a href="module-GeoFlo.Styles.html">Styles</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Styles_sub"></div></li><li><a href="module-GeoFlo.Utilities.html">Utilities</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:GeoFlo.Utilities_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-GeoFlo.Utilities.html#.assignDeep">assignDeep</a></li><li><a href="module-GeoFlo.Utilities.html#.clone">clone</a></li><li><a href="module-GeoFlo.Utilities.html#.cloneDeep">cloneDeep</a></li><li><a href="module-GeoFlo.Utilities.html#.combineSameTypeFeatures">combineSameTypeFeatures</a></li><li><a href="module-GeoFlo.Utilities.html#.compareDeep">compareDeep</a></li><li><a href="module-GeoFlo.Utilities.html#.consumableArray">consumableArray</a></li><li><a href="module-GeoFlo.Utilities.html#.createBbox">createBbox</a></li><li><a href="module-GeoFlo.Utilities.html#.createLineAndSaveLength">createLineAndSaveLength</a></li><li><a href="module-GeoFlo.Utilities.html#.createLineWithLength">createLineWithLength</a></li><li><a href="module-GeoFlo.Utilities.html#.createMesh">createMesh</a></li><li><a href="module-GeoFlo.Utilities.html#.createRandomStroke">createRandomStroke</a></li><li><a href="module-GeoFlo.Utilities.html#.createSimpleMesh">createSimpleMesh</a></li><li><a href="module-GeoFlo.Utilities.html#.degrees2meters">degrees2meters</a></li><li><a href="module-GeoFlo.Utilities.html#.extend">extend</a></li><li><a href="module-GeoFlo.Utilities.html#.findClosestFeatures">findClosestFeatures</a></li><li><a href="module-GeoFlo.Utilities.html#.getLastIndexCoords">getLastIndexCoords</a></li><li><a href="module-GeoFlo.Utilities.html#.getRandomColor">getRandomColor</a></li><li><a href="module-GeoFlo.Utilities.html#.isEmptyLineString">isEmptyLineString</a></li><li><a href="module-GeoFlo.Utilities.html#.isLastIndex">isLastIndex</a></li><li><a href="module-GeoFlo.Utilities.html#.isLineString">isLineString</a></li><li><a href="module-GeoFlo.Utilities.html#.isOverlapping">isOverlapping</a></li><li><a href="module-GeoFlo.Utilities.html#.isPoint">isPoint</a></li><li><a href="module-GeoFlo.Utilities.html#.isPointAtVertex">isPointAtVertex</a></li><li><a href="module-GeoFlo.Utilities.html#.isPointEqual">isPointEqual</a></li><li><a href="module-GeoFlo.Utilities.html#.isPointNotTooClose">isPointNotTooClose</a></li><li><a href="module-GeoFlo.Utilities.html#.isPolygon">isPolygon</a></li><li><a href="module-GeoFlo.Utilities.html#.isValidLineString">isValidLineString</a></li><li><a href="module-GeoFlo.Utilities.html#.lineSplit">lineSplit</a></li><li><a href="module-GeoFlo.Utilities.html#.meters2degrees">meters2degrees</a></li><li><a href="module-GeoFlo.Utilities.html#.pointInCoordinates">pointInCoordinates</a></li><li><a href="module-GeoFlo.Utilities.html#.processFiles">processFiles</a></li><li><a href="module-GeoFlo.Utilities.html#.reducePrecision">reducePrecision</a></li><li><a href="module-GeoFlo.Utilities.html#.sameBorders">sameBorders</a></li><li><a href="module-GeoFlo.Utilities.html#.setProperties">setProperties</a></li><li><a href="module-GeoFlo.Utilities.html#.setProperty">setProperty</a></li><li><a href="module-GeoFlo.Utilities.html#.splitLines">splitLines</a></li><li><a href="module-GeoFlo.Utilities.html#.stringToDOM">stringToDOM</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @mixin
 * @memberof module:GeoFlo
 * @name Locate
 * @description The Locate module provides a user interface for locating the user's current position on the map.
 * @param {Object} ctx - The GeoFlo context object
 */
const Locate = function (ctx, options={}) {
    this.options = options;
    
	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name init
	 * @description This function initializes the geolocation control on the map with the specified options.
	 * @param {Object} options - The options for configuring the geolocation control.
	 * @param {boolean} [options.enableHighAccuracy=true] - Whether to enable high accuracy for geolocation.
	 * @param {boolean} [options.trackUserLocation=true] - Whether to track the user's location.
	 * @param {boolean} [options.showUserHeading=true] - Whether to show the user's heading.
	 * @param {boolean} [options.showAccuracyCircle=false] - Whether to show the accuracy circle.
	 * @returns {Object} The current instance of the map with the geolocation control added.
	 */
    this.init = function (options={}) {
        ctx.Utilities.extend(this.options, options);

        this.control = new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            trackUserLocation: true,
            showUserHeading: true,
            showAccuracyCircle: false
        });

        this.control.on('geolocate', this.onControlEvent.bind(this))
        ctx.map.addControl(this.control);
        return this;
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name ready
	 * @description This function checks if the geolocate button is available in the control and then calls the build function.
	 * @params {Object} control - The control object containing the geolocate button.
	 * @returns {void}
	 */
    this.ready = function () {
        var _this = this;
        var control = this.control;

        var ready = setInterval(function() {
            if (!control._geolocateButton) return;
            _this.build();
            return clearInterval(ready);
        }, 1);
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name build
	 * @description This function hides the user location dot marker and the associated button.
	 * @params {void} None
	 * @returns {void}
	 */
    this.build = function () {
        this.marker = this.control._userLocationDotMarker;
        this.getButton().style.display = 'none';
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name update
	 * @description This function updates the map bearing and center based on the provided options.
	 * @param {Object} options - The options object.
	 * @param {number} options.alpha - The alpha value.
	 * @returns {void}
	 */
    this.update = function (options={}) {
        const alpha = options.alpha;
        const heading = this.heading();
        const bearing = this.bearing();
        const following = this.following;
        if (!heading || !following || ctx.mapMoving) return;
        ctx.map.setBearing(heading - 1);
        ctx.map.setCenter(this.marker._lngLat);
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name heading
	 * @description Retrieves the heading value from the control object.
	 * @returns {string} The heading value from the control object.
	 */
    this.heading = function () {
        return this.control._heading;
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name bearing
	 * @description This function retrieves the current bearing of the map.
	 * @returns {number} The bearing of the map.
	 */
    this.bearing = function () {
        return ctx.map.getBearing();
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name locate
	 * @description Initiates the process of locating the user's current position on the map.
	 * @returns {void}
	 */
    this.locate = function () {
        this.locating = true;
        this.unlocated = false;
        this.control._follow = this.following = false;
        addClasses(this.button, ['mapboxgl-ctrl-geolocate-waiting']);
        return this.control.trigger();
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name relocate
	 * @description Relocates the geolocation control to the user's current location. If the control is set to follow the user's location, it changes the state to 'ACTIVE_LOCK'. Adds the 'mapboxgl-ctrl-geolocate-active' class to the button element. Triggers the control
	 * @params {void}
	 * @returns {void}
	 */
    this.relocate = function () {
        if (this.following) this.state('ACTIVE_LOCK');
        addClasses(this.button, ['mapboxgl-ctrl-geolocate-active']);
        return this.control.trigger();
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name unlocate
	 * @description Sets the state to 'ACTIVE_LOCK', disables following, enables drag pan on the map, and triggers the control.
	 * @returns {Object} The result of triggering the control.
	 */
    this.unlocate = function () {
        this.state('ACTIVE_LOCK');
        this.control._follow = this.following = false;
        ctx.map.dragPan.enable();
        this.unlocated = true;
        return this.control.trigger();
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name follow
	 * @description Enables the follow functionality for the geolocate control. When activated, adds a specific class to the button, disables drag panning on the map, and sets the follow state to true.
	 * @params {Object} ctx - The context object containing the map and control references.
	 * @returns {boolean} - Returns true to indicate that the follow functionality has been enabled.
	 */
    this.follow = function () {
        addClasses(this.button, ['mapboxgl-ctrl-geolocate-follow']);
        ctx.map.dragPan.disable();
        return this.control._follow = this.following = true;
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name state
	 * @description This function is used to get or set the state of the control. If a state parameter is provided, it sets the control's watch state to that value. If no state parameter is provided, it returns the current watch state of the control.
	 * @param {boolean} state - The state to set for the control.
	 * @returns {boolean} - The current watch state of the control.
	 */
    this.state = function (state) {
        return state ? this.control._watchState = state : this.control._watchState;
    }



	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name getButton
	 * @description Returns the geolocate button element from the control.
	 * @returns {Element} The geolocate button element.
	 */
    this.getButton = function () {
        return this.control._geolocateButton;
    }


    

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name removeClasses
	 * @description This function removes classes related to geolocation control from a button element.
	 * @params {Element} button - The button element from which classes will be removed.
	 */
    this.removeClasses = function () {
        var button = this.button;
        if (!button) return;
        button.classList.remove('mapboxgl-ctrl-geolocate-waiting');
        button.classList.remove('mapboxgl-ctrl-geolocate-active');
        button.classList.remove('mapboxgl-ctrl-geolocate-active-error');
        button.classList.remove('mapboxgl-ctrl-geolocate-background');
        button.classList.remove('mapboxgl-ctrl-geolocate-background-error');
        button.classList.remove('mapboxgl-ctrl-geolocate-follow');
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name onAdd
	 * @description Logs the event passed as a parameter.
	 * @param {Event} event - The event object to be logged.
     * @event
	 */
    this.onAdd = function (event) {
        console.log(event)
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name onControlEvent
	 * @description Handles events related to user location functionality initiated by the locate control button.
	 * @param {Object} event - The event object containing information about the event.
	 * @returns {void}
     * @event
	 */
    this.onControlEvent = function (event) {
        this.button = this.button || event.button;
        this.marker = this.control._userLocationDotMarker;

        this.removeClasses();
        console.log('Locate: ', this.state());

        if (event.coords) {
            this.onLocate(event)
        } else if (event.button) {
            ctx.map.dragPan.enable();
            if (this.state() === 'OFF') return this.locate();
            if (this.state() === 'BACKGROUND' &amp;&amp; !this.following) return this.relocate();
            if (this.state() === 'ACTIVE_LOCK' &amp;&amp; !this.following) return this.follow();
            this.unlocate();
        } 
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name onLocate
	 * @description Handles the event when the geolocation is triggered.
	 * @param {Event} event - The event object containing the coordinates.
	 * @returns {void}
     * @event
	 */
    this.onLocate = function (event) {
        console.log(event);

        if (this.state() === 'ACTIVE_LOCK' &amp;&amp; this.locating) {
            this.locating = false;
            this.currentLocation = event.coords;
            addClasses(this.button, ['mapboxgl-ctrl-geolocate-active']);
        } 
    }

	/**
	 * @function
     * @memberof module:GeoFlo.Locate
	 * @name onMapMove
	 * @description This function is triggered when a map movement event occurs. It updates the button classes based on the state of the geolocate control.
	 * @param {Event} event - The event object triggered by the map movement.
	 * @returns {void}
     * @event
	 */
    this.onMapMove = function (event) {
        if (!this.button || this.following || this.unlocated) return;
        if (this.state() === 'ACTIVE_LOCK') return addClasses(this.button, ['mapboxgl-ctrl-geolocate-active']);
        addClasses(this.button, ['mapboxgl-ctrl-geolocate-background']);
    }



    this.options.init ? this.init(this.options) : this;


    
    function addClasses (button, classes=[]) {
        if (!button) return;
        classes.forEach(function(c) { c ? button.classList.add(c) : false })
    }
}

export { Locate as default }</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="https://geoflo.s3.amazonaws.com/logos/logo_full_white.png" style="">
    <div class="footer-text">Solutegrate/GeoFlo © 2024</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
