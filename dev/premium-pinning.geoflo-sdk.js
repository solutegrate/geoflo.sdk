/*!
 * /*!
 *  * GeoFlo SDK
 *  * Version 1.0.11
 *  * Generated on: 2025-02-05T18:12:16.694Z
 *  * /
 */
"use strict";
(self["webpackChunk_solutegrate_geoflo_sdk"] = self["webpackChunk_solutegrate_geoflo_sdk"] || []).push([["premium-pinning"],{

/***/ "./src/Pinning.js":
/*!************************!*\
  !*** ./src/Pinning.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * @mixin
 * @memberof module:geoflo
 * @name Pinning
 * @description This module provides the pinning functionality for the Geoflo application. It allows users to pin features to the map by creating a buffer around the feature and snapping to nearby features.
 * @param {Object} mode - The mode object containing the type of mode.
 * @returns {Object} Returns the Pinning object.
 */
var Pinning = function Pinning(mode) {
  var geoflo = this.geoflo;
  this.type = mode.type;
  this.updatedFeatures = [];

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name activate
   * @description Activates the feature by setting the enabled flag to true and enabling pinning in the options.
   * @params {void} None
   * @returns {void}
   */
  /**
  * @function activate
  * @memberof _MEMBER_OF_
  * @description - This function activates the pinning functionality by setting the enabled flag to true and enabling pinning in the options.
  *
  * @returns {void} No return value.
  *
  */
  this.activate = function () {
    this.updatedFeatures = [];
    this.enabled = true;
    geoflo.options['pinning'].enable = true;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name deactivate
   * @description This function deactivates pinning by setting enabled to false, disabling pinning in options, clearing buffer, pinableFeatures, and pinningFeatures, and resetting updatedFeatures.
   */
  this.deactivate = function () {
    this.enabled = false;
    geoflo.options['pinning'].enable = false;
    this.resetFeatures();
    delete this.buffer;
    delete geoflo.pinableFeatures;
    delete geoflo.pinningFeatures;
    this.updatedFeatures = [];
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name getFeatures
   * @description Retrieves the features from the pinnedFeatures array in the context object.
   * @returns {Array} An array of features extracted from the pinnedFeatures array.
   */
  this.getFeatures = function () {
    var features = geoflo.pinnedFeatures && geoflo.pinnedFeatures.length ? geoflo.pinnedFeatures.map(function (feature) {
      return feature.feature;
    }) : [];
    return features;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name setBuffer
   * @description This function creates a buffer around the provided coordinates based on the pinning buffer option.
   * @param {Array<number>} coords - The coordinates [longitude, latitude] to create the buffer around.
   * @returns {Object|boolean} Returns the buffer object containing the feature, radius, and coordinates if successful, otherwise false.
   */
  this.setBuffer = function (coords) {
    delete this.buffer;
    if (!this.enabled) return false;
    if (!coords || !geoflo.options.pinning.buffer) return false;
    var buffer = turf.buffer(turf.point(coords), geoflo.options.pinning.buffer);
    var radius = turf.polygon(buffer.geometry.coordinates);
    this.buffer = {
      feature: buffer,
      radius: radius,
      coords: coords
    };
    return this.buffer;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name setFeatures
   * @description Sets the pinable features based on the provided coordinates and fires an event.
   * @param {Object} coords - The coordinates to determine nearby features.
   * @returns {Array} - An array of pinable features.
   */
  this.setFeatures = function (coords) {
    geoflo.pinableFeatures = [];
    if (!this.enabled || !coords) return false;
    geoflo.pinableFeatures = this.getNearByFeatures(coords);
    geoflo.fire('pinning.add', {
      features: geoflo.pinableFeatures,
      buffer: this.buffer
    });
    return geoflo.pinableFeatures;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name resetFeatures
   * @description Resets the updated features by adding them to the canvas context.
   * @returns {boolean} Returns false if there are no updated features to reset.
   */
  this.resetFeatures = function () {
    if (!this.updatedFeatures.length) return false;
    geoflo.addFeatures(this.updatedFeatures, true);
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name updateFeatures
   * @description This function updates the features if the pinning functionality is enabled. It updates the pinable features, pinned features, and triggers events accordingly.
   * @returns {boolean} Returns false if the pinning functionality is not enabled, otherwise returns the updated pinning features.
   */
  this.updateFeatures = function () {
    if (!this.enabled) return false;
    if (!geoflo.pinableFeatures || !geoflo.pinableFeatures.length) return delete geoflo.pinningFeatures, false;
    updateFeatures.call(this, geoflo.pinableFeatures);
    geoflo.Features.updateFeatures(geoflo.pinableFeatures, {
      type: 'pinning',
      coords: geoflo.snappedVertex,
      addUnits: true
    });
    geoflo.pinnedFeatures = geoflo.Utilities.cloneDeep(geoflo.pinableFeatures);
    geoflo.fire('pinning.update', {
      feature: geoflo.hotFeature,
      vertex: turf.point(geoflo.snappedVertex),
      features: geoflo.pinnedFeatures
    });
    return geoflo.pinningFeatures;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name getNearByFeatures
   * @description This function calculates the radius based on the map zoom level and retrieves nearby features within that radius.
   * @param {Array<number>} coords - The coordinates [longitude, latitude] to find nearby features.
   * @returns {Array<Object>} An array of nearby features with their IDs, types, indices, and feature objects.
   */
  this.getNearByFeatures = function (coords) {
    if (!this.enabled || !coords) return false;
    var hotFeature = geoflo.hotFeature;
    var calculatedRadius = geoflo.options.snapping.distance * Math.pow(2, Math.max(1, 19 - geoflo.map.getZoom()));
    var radiusInKm = calculatedRadius / 100000;
    var buffer = this.setBuffer(coords);
    var features = geoflo.getRenderedDrawnFeatures({
      lng: coords[0],
      lat: coords[1]
    }, radiusInKm);
    var nearby = [];
    features.forEach(function (feature) {
      turf.coordEach(feature, function (coord, index) {
        var isNearby = false;
        if (buffer.radius && turf.booleanWithin(turf.point(coord), buffer.radius)) isNearby = true;
        if (!isNearby && buffer.coords && geoflo.Utilities.isPointEqual(coord, buffer.coords)) isNearby = true;
        if (!isNearby) return;
        if (hotFeature && hotFeature.id === feature.id) return;
        nearby.push({
          id: feature.id || feature.properties.id,
          type: feature.properties.type,
          index: index,
          feature: feature
        });
      });
    });
    return nearby;
  };
  if (geoflo.options['pinning'].enable) this.activate();
  function updateFeatures(features) {
    if (!features || !features.length) return false;
    features.forEach(function (feature) {
      var pinned = this.updatedFeatures.find(function (f) {
        return f.id === feature.id;
      });
      if (pinned) return;
      this.updatedFeatures.push(geoflo.Utilities.cloneDeep(feature.feature));
    }, this);
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pinning);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxDQUFDSyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUNDLE1BQU0sRUFBRSxJQUFJLENBQUNILFFBQVEsQ0FBQyxDQUFDO0VBR3JELFNBQVM0QixjQUFjQSxDQUFDbEIsUUFBUSxFQUFFO0lBQzlCLElBQUksQ0FBQ0EsUUFBUSxJQUFJLENBQUNBLFFBQVEsQ0FBQ0UsTUFBTSxFQUFFLE9BQU8sS0FBSztJQUUvQ0YsUUFBUSxDQUFDdUMsT0FBTyxDQUFDLFVBQVVuQyxPQUFPLEVBQUU7TUFDaEMsSUFBSTZDLE1BQU0sR0FBRyxJQUFJLENBQUM1RCxlQUFlLENBQUM2RCxJQUFJLENBQUMsVUFBVUMsQ0FBQyxFQUFFO1FBQUUsT0FBT0EsQ0FBQyxDQUFDTCxFQUFFLEtBQUsxQyxPQUFPLENBQUMwQyxFQUFFO01BQUMsQ0FBQyxDQUFDO01BQ25GLElBQUlHLE1BQU0sRUFBRTtNQUNaLElBQUksQ0FBQzVELGVBQWUsQ0FBQzBELElBQUksQ0FBQzVELE1BQU0sQ0FBQ29DLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDcEIsT0FBTyxDQUFDQSxPQUFPLENBQUMsQ0FBQztJQUMxRSxDQUFDLEVBQUUsSUFBSSxDQUFDO0VBQ1o7QUFDSixDQUFDO0FBRUQsaUVBQWVuQixPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHNvbHV0ZWdyYXRlL2dlb2Zsby1zZGsvLi9zcmMvUGlubmluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtaXhpblxuICogQG1lbWJlcm9mIG1vZHVsZTpnZW9mbG9cbiAqIEBuYW1lIFBpbm5pbmdcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIG1vZHVsZSBwcm92aWRlcyB0aGUgcGlubmluZyBmdW5jdGlvbmFsaXR5IGZvciB0aGUgR2VvZmxvIGFwcGxpY2F0aW9uLiBJdCBhbGxvd3MgdXNlcnMgdG8gcGluIGZlYXR1cmVzIHRvIHRoZSBtYXAgYnkgY3JlYXRpbmcgYSBidWZmZXIgYXJvdW5kIHRoZSBmZWF0dXJlIGFuZCBzbmFwcGluZyB0byBuZWFyYnkgZmVhdHVyZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gbW9kZSAtIFRoZSBtb2RlIG9iamVjdCBjb250YWluaW5nIHRoZSB0eXBlIG9mIG1vZGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBQaW5uaW5nIG9iamVjdC5cbiAqL1xuY29uc3QgUGlubmluZyA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgY29uc3QgZ2VvZmxvID0gdGhpcy5nZW9mbG87XG5cbiAgICB0aGlzLnR5cGUgPSBtb2RlLnR5cGU7XG4gICAgdGhpcy51cGRhdGVkRmVhdHVyZXMgPSBbXTtcblxuXHQvKipcblx0ICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpnZW9mbG8uUGlubmluZ1xuXHQgKiBAbmFtZSBhY3RpdmF0ZVxuXHQgKiBAZGVzY3JpcHRpb24gQWN0aXZhdGVzIHRoZSBmZWF0dXJlIGJ5IHNldHRpbmcgdGhlIGVuYWJsZWQgZmxhZyB0byB0cnVlIGFuZCBlbmFibGluZyBwaW5uaW5nIGluIHRoZSBvcHRpb25zLlxuXHQgKiBAcGFyYW1zIHt2b2lkfSBOb25lXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cbiAgICAvKipcbiAgICAqIEBmdW5jdGlvbiBhY3RpdmF0ZVxuICAgICogQG1lbWJlcm9mIF9NRU1CRVJfT0ZfXG4gICAgKiBAZGVzY3JpcHRpb24gLSBUaGlzIGZ1bmN0aW9uIGFjdGl2YXRlcyB0aGUgcGlubmluZyBmdW5jdGlvbmFsaXR5IGJ5IHNldHRpbmcgdGhlIGVuYWJsZWQgZmxhZyB0byB0cnVlIGFuZCBlbmFibGluZyBwaW5uaW5nIGluIHRoZSBvcHRpb25zLlxuICAgICpcbiAgICAqIEByZXR1cm5zIHt2b2lkfSBObyByZXR1cm4gdmFsdWUuXG4gICAgKlxuICAgICovXG4gICAgdGhpcy5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVkRmVhdHVyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgZ2VvZmxvLm9wdGlvbnNbJ3Bpbm5pbmcnXS5lbmFibGUgPSB0cnVlO1xuICAgIH1cblxuXHQvKipcblx0ICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpnZW9mbG8uUGlubmluZ1xuXHQgKiBAbmFtZSBkZWFjdGl2YXRlXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGRlYWN0aXZhdGVzIHBpbm5pbmcgYnkgc2V0dGluZyBlbmFibGVkIHRvIGZhbHNlLCBkaXNhYmxpbmcgcGlubmluZyBpbiBvcHRpb25zLCBjbGVhcmluZyBidWZmZXIsIHBpbmFibGVGZWF0dXJlcywgYW5kIHBpbm5pbmdGZWF0dXJlcywgYW5kIHJlc2V0dGluZyB1cGRhdGVkRmVhdHVyZXMuXG5cdCAqL1xuICAgIHRoaXMuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGdlb2Zsby5vcHRpb25zWydwaW5uaW5nJ10uZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzZXRGZWF0dXJlcygpO1xuICAgICAgICBkZWxldGUgdGhpcy5idWZmZXI7XG4gICAgICAgIGRlbGV0ZSBnZW9mbG8ucGluYWJsZUZlYXR1cmVzO1xuICAgICAgICBkZWxldGUgZ2VvZmxvLnBpbm5pbmdGZWF0dXJlcztcbiAgICAgICAgdGhpcy51cGRhdGVkRmVhdHVyZXMgPSBbXTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvLlBpbm5pbmdcblx0ICogQG5hbWUgZ2V0RmVhdHVyZXNcblx0ICogQGRlc2NyaXB0aW9uIFJldHJpZXZlcyB0aGUgZmVhdHVyZXMgZnJvbSB0aGUgcGlubmVkRmVhdHVyZXMgYXJyYXkgaW4gdGhlIGNvbnRleHQgb2JqZWN0LlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IG9mIGZlYXR1cmVzIGV4dHJhY3RlZCBmcm9tIHRoZSBwaW5uZWRGZWF0dXJlcyBhcnJheS5cblx0ICovXG4gICAgdGhpcy5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZlYXR1cmVzID0gZ2VvZmxvLnBpbm5lZEZlYXR1cmVzICYmIGdlb2Zsby5waW5uZWRGZWF0dXJlcy5sZW5ndGggPyBnZW9mbG8ucGlubmVkRmVhdHVyZXMubWFwKGZ1bmN0aW9uIChmZWF0dXJlKSB7IHJldHVybiBmZWF0dXJlLmZlYXR1cmUgfSkgOiBbXTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cblxuXHQvKipcblx0ICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpnZW9mbG8uUGlubmluZ1xuXHQgKiBAbmFtZSBzZXRCdWZmZXJcblx0ICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIGJ1ZmZlciBhcm91bmQgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGVzIGJhc2VkIG9uIHRoZSBwaW5uaW5nIGJ1ZmZlciBvcHRpb24uXG5cdCAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRzIC0gVGhlIGNvb3JkaW5hdGVzIFtsb25naXR1ZGUsIGxhdGl0dWRlXSB0byBjcmVhdGUgdGhlIGJ1ZmZlciBhcm91bmQuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R8Ym9vbGVhbn0gUmV0dXJucyB0aGUgYnVmZmVyIG9iamVjdCBjb250YWluaW5nIHRoZSBmZWF0dXJlLCByYWRpdXMsIGFuZCBjb29yZGluYXRlcyBpZiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2UuXG5cdCAqL1xuICAgIHRoaXMuc2V0QnVmZmVyID0gZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICBkZWxldGUgdGhpcy5idWZmZXI7XG5cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFjb29yZHMgfHwgIWdlb2Zsby5vcHRpb25zLnBpbm5pbmcuYnVmZmVyKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGJ1ZmZlciA9IHR1cmYuYnVmZmVyKHR1cmYucG9pbnQoY29vcmRzKSwgZ2VvZmxvLm9wdGlvbnMucGlubmluZy5idWZmZXIpO1xuICAgICAgICB2YXIgcmFkaXVzID0gdHVyZi5wb2x5Z29uKGJ1ZmZlci5nZW9tZXRyeS5jb29yZGluYXRlcyk7XG5cbiAgICAgICAgdGhpcy5idWZmZXIgPSB7XG4gICAgICAgICAgICBmZWF0dXJlOiBidWZmZXIsXG4gICAgICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICAgIGNvb3JkczogY29vcmRzXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXI7XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmdlb2Zsby5QaW5uaW5nXG5cdCAqIEBuYW1lIHNldEZlYXR1cmVzXG5cdCAqIEBkZXNjcmlwdGlvbiBTZXRzIHRoZSBwaW5hYmxlIGZlYXR1cmVzIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBjb29yZGluYXRlcyBhbmQgZmlyZXMgYW4gZXZlbnQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb29yZHMgLSBUaGUgY29vcmRpbmF0ZXMgdG8gZGV0ZXJtaW5lIG5lYXJieSBmZWF0dXJlcy5cblx0ICogQHJldHVybnMge0FycmF5fSAtIEFuIGFycmF5IG9mIHBpbmFibGUgZmVhdHVyZXMuXG5cdCAqL1xuICAgIHRoaXMuc2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIGdlb2Zsby5waW5hYmxlRmVhdHVyZXMgPSBbXTtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQgfHwgIWNvb3JkcykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBnZW9mbG8ucGluYWJsZUZlYXR1cmVzID0gdGhpcy5nZXROZWFyQnlGZWF0dXJlcyhjb29yZHMpO1xuICAgICAgICBnZW9mbG8uZmlyZSgncGlubmluZy5hZGQnLCB7IGZlYXR1cmVzOiBnZW9mbG8ucGluYWJsZUZlYXR1cmVzLCBidWZmZXI6IHRoaXMuYnVmZmVyIH0pO1xuICAgICAgICByZXR1cm4gZ2VvZmxvLnBpbmFibGVGZWF0dXJlcztcbiAgICB9XG5cblx0LyoqXG5cdCAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvLlBpbm5pbmdcblx0ICogQG5hbWUgcmVzZXRGZWF0dXJlc1xuXHQgKiBAZGVzY3JpcHRpb24gUmVzZXRzIHRoZSB1cGRhdGVkIGZlYXR1cmVzIGJ5IGFkZGluZyB0aGVtIHRvIHRoZSBjYW52YXMgY29udGV4dC5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgZmFsc2UgaWYgdGhlcmUgYXJlIG5vIHVwZGF0ZWQgZmVhdHVyZXMgdG8gcmVzZXQuXG5cdCAqL1xuICAgIHRoaXMucmVzZXRGZWF0dXJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZWRGZWF0dXJlcy5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZ2VvZmxvLmFkZEZlYXR1cmVzKHRoaXMudXBkYXRlZEZlYXR1cmVzLCB0cnVlKTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvLlBpbm5pbmdcblx0ICogQG5hbWUgdXBkYXRlRmVhdHVyZXNcblx0ICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgZmVhdHVyZXMgaWYgdGhlIHBpbm5pbmcgZnVuY3Rpb25hbGl0eSBpcyBlbmFibGVkLiBJdCB1cGRhdGVzIHRoZSBwaW5hYmxlIGZlYXR1cmVzLCBwaW5uZWQgZmVhdHVyZXMsIGFuZCB0cmlnZ2VycyBldmVudHMgYWNjb3JkaW5nbHkuXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGZhbHNlIGlmIHRoZSBwaW5uaW5nIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGVuYWJsZWQsIG90aGVyd2lzZSByZXR1cm5zIHRoZSB1cGRhdGVkIHBpbm5pbmcgZmVhdHVyZXMuXG5cdCAqL1xuICAgIHRoaXMudXBkYXRlRmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghZ2VvZmxvLnBpbmFibGVGZWF0dXJlcyB8fCAhZ2VvZmxvLnBpbmFibGVGZWF0dXJlcy5sZW5ndGgpIHJldHVybiBkZWxldGUgZ2VvZmxvLnBpbm5pbmdGZWF0dXJlcywgZmFsc2U7XG4gICAgICAgIHVwZGF0ZUZlYXR1cmVzLmNhbGwodGhpcywgZ2VvZmxvLnBpbmFibGVGZWF0dXJlcyk7XG4gICAgICAgIGdlb2Zsby5GZWF0dXJlcy51cGRhdGVGZWF0dXJlcyhnZW9mbG8ucGluYWJsZUZlYXR1cmVzLCB7IHR5cGU6ICdwaW5uaW5nJywgY29vcmRzOiBnZW9mbG8uc25hcHBlZFZlcnRleCwgYWRkVW5pdHM6IHRydWUgfSk7XG4gICAgICAgIGdlb2Zsby5waW5uZWRGZWF0dXJlcyA9IGdlb2Zsby5VdGlsaXRpZXMuY2xvbmVEZWVwKGdlb2Zsby5waW5hYmxlRmVhdHVyZXMpO1xuICAgICAgICBnZW9mbG8uZmlyZSgncGlubmluZy51cGRhdGUnLCB7IGZlYXR1cmU6IGdlb2Zsby5ob3RGZWF0dXJlLCB2ZXJ0ZXg6IHR1cmYucG9pbnQoZ2VvZmxvLnNuYXBwZWRWZXJ0ZXgpLCBmZWF0dXJlczogZ2VvZmxvLnBpbm5lZEZlYXR1cmVzIH0pO1xuICAgICAgICByZXR1cm4gZ2VvZmxvLnBpbm5pbmdGZWF0dXJlcztcbiAgICB9XG5cblx0LyoqXG5cdCAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvLlBpbm5pbmdcblx0ICogQG5hbWUgZ2V0TmVhckJ5RmVhdHVyZXNcblx0ICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgcmFkaXVzIGJhc2VkIG9uIHRoZSBtYXAgem9vbSBsZXZlbCBhbmQgcmV0cmlldmVzIG5lYXJieSBmZWF0dXJlcyB3aXRoaW4gdGhhdCByYWRpdXMuXG5cdCAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRzIC0gVGhlIGNvb3JkaW5hdGVzIFtsb25naXR1ZGUsIGxhdGl0dWRlXSB0byBmaW5kIG5lYXJieSBmZWF0dXJlcy5cblx0ICogQHJldHVybnMge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIG5lYXJieSBmZWF0dXJlcyB3aXRoIHRoZWlyIElEcywgdHlwZXMsIGluZGljZXMsIGFuZCBmZWF0dXJlIG9iamVjdHMuXG5cdCAqL1xuICAgIHRoaXMuZ2V0TmVhckJ5RmVhdHVyZXMgPSBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkIHx8ICFjb29yZHMpIHJldHVybiBmYWxzZTtcblxuICAgICAgICB2YXIgaG90RmVhdHVyZSA9IGdlb2Zsby5ob3RGZWF0dXJlO1xuICAgICAgICB2YXIgY2FsY3VsYXRlZFJhZGl1cyA9IGdlb2Zsby5vcHRpb25zLnNuYXBwaW5nLmRpc3RhbmNlICogTWF0aC5wb3coMiwgTWF0aC5tYXgoMSwgMTkgLSBnZW9mbG8ubWFwLmdldFpvb20oKSkpO1xuICAgICAgICB2YXIgcmFkaXVzSW5LbSA9IGNhbGN1bGF0ZWRSYWRpdXMgLyAxMDAwMDA7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLnNldEJ1ZmZlcihjb29yZHMpO1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9mbG8uZ2V0UmVuZGVyZWREcmF3bkZlYXR1cmVzKHtsbmc6IGNvb3Jkc1swXSwgbGF0OiBjb29yZHNbMV19LCByYWRpdXNJbkttKTtcbiAgICAgICAgdmFyIG5lYXJieSA9IFtdO1xuXG4gICAgICAgIGZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHR1cmYuY29vcmRFYWNoKGZlYXR1cmUsIGZ1bmN0aW9uIChjb29yZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNOZWFyYnkgPSBmYWxzZTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLnJhZGl1cyAmJiB0dXJmLmJvb2xlYW5XaXRoaW4odHVyZi5wb2ludChjb29yZCksIGJ1ZmZlci5yYWRpdXMpKSBpc05lYXJieSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05lYXJieSAmJiBidWZmZXIuY29vcmRzICYmIGdlb2Zsby5VdGlsaXRpZXMuaXNQb2ludEVxdWFsKGNvb3JkLCBidWZmZXIuY29vcmRzKSkgaXNOZWFyYnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghaXNOZWFyYnkpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoaG90RmVhdHVyZSAmJiBob3RGZWF0dXJlLmlkID09PSBmZWF0dXJlLmlkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG5lYXJieS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGZlYXR1cmUuaWQgfHwgZmVhdHVyZS5wcm9wZXJ0aWVzLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBmZWF0dXJlLnByb3BlcnRpZXMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlOiBmZWF0dXJlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmVhcmJ5O1xuICAgIH1cbiAgICBcbiAgICBpZiAoZ2VvZmxvLm9wdGlvbnNbJ3Bpbm5pbmcnXS5lbmFibGUpIHRoaXMuYWN0aXZhdGUoKTtcblxuXG4gICAgZnVuY3Rpb24gdXBkYXRlRmVhdHVyZXMoZmVhdHVyZXMpIHtcbiAgICAgICAgaWYgKCFmZWF0dXJlcyB8fCAhZmVhdHVyZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgZmVhdHVyZXMuZm9yRWFjaChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgdmFyIHBpbm5lZCA9IHRoaXMudXBkYXRlZEZlYXR1cmVzLmZpbmQoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuaWQgPT09IGZlYXR1cmUuaWQgfSk7XG4gICAgICAgICAgICBpZiAocGlubmVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWRGZWF0dXJlcy5wdXNoKGdlb2Zsby5VdGlsaXRpZXMuY2xvbmVEZWVwKGZlYXR1cmUuZmVhdHVyZSkpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQaW5uaW5nOyJdLCJuYW1lcyI6WyJQaW5uaW5nIiwibW9kZSIsImdlb2ZsbyIsInR5cGUiLCJ1cGRhdGVkRmVhdHVyZXMiLCJhY3RpdmF0ZSIsImVuYWJsZWQiLCJvcHRpb25zIiwiZW5hYmxlIiwiZGVhY3RpdmF0ZSIsInJlc2V0RmVhdHVyZXMiLCJidWZmZXIiLCJwaW5hYmxlRmVhdHVyZXMiLCJwaW5uaW5nRmVhdHVyZXMiLCJnZXRGZWF0dXJlcyIsImZlYXR1cmVzIiwicGlubmVkRmVhdHVyZXMiLCJsZW5ndGgiLCJtYXAiLCJmZWF0dXJlIiwic2V0QnVmZmVyIiwiY29vcmRzIiwicGlubmluZyIsInR1cmYiLCJwb2ludCIsInJhZGl1cyIsInBvbHlnb24iLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwic2V0RmVhdHVyZXMiLCJnZXROZWFyQnlGZWF0dXJlcyIsImZpcmUiLCJhZGRGZWF0dXJlcyIsInVwZGF0ZUZlYXR1cmVzIiwiY2FsbCIsIkZlYXR1cmVzIiwic25hcHBlZFZlcnRleCIsImFkZFVuaXRzIiwiVXRpbGl0aWVzIiwiY2xvbmVEZWVwIiwiaG90RmVhdHVyZSIsInZlcnRleCIsImNhbGN1bGF0ZWRSYWRpdXMiLCJzbmFwcGluZyIsImRpc3RhbmNlIiwiTWF0aCIsInBvdyIsIm1heCIsImdldFpvb20iLCJyYWRpdXNJbkttIiwiZ2V0UmVuZGVyZWREcmF3bkZlYXR1cmVzIiwibG5nIiwibGF0IiwibmVhcmJ5IiwiZm9yRWFjaCIsImNvb3JkRWFjaCIsImNvb3JkIiwiaW5kZXgiLCJpc05lYXJieSIsImJvb2xlYW5XaXRoaW4iLCJpc1BvaW50RXF1YWwiLCJpZCIsInB1c2giLCJwcm9wZXJ0aWVzIiwicGlubmVkIiwiZmluZCIsImYiXSwic291cmNlUm9vdCI6IiJ9