/*!
 * /*!
 *  * GeoFlo SDK
 *  * Version 1.0.11
 *  * Generated on: 2025-02-05T23:23:36.150Z
 *  * /
 */
"use strict";
(self["webpackChunk_solutegrate_geoflo_sdk"] = self["webpackChunk_solutegrate_geoflo_sdk"] || []).push([["pinning"],{

/***/ "./src/Pinning.js":
/*!************************!*\
  !*** ./src/Pinning.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * @mixin
 * @memberof module:geoflo
 * @name Pinning
 * @description This module provides the pinning functionality for the Geoflo application. It allows users to pin features to the map by creating a buffer around the feature and snapping to nearby features.
 * @param {Object} mode - The mode object containing the type of mode.
 * @returns {Object} Returns the Pinning object.
 */
var Pinning = function Pinning(mode) {
  var geoflo = this.geoflo;
  this.type = mode.type;
  this.updatedFeatures = [];

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name activate
   * @description Activates the feature by setting the enabled flag to true and enabling pinning in the options.
   * @params {void} None
   * @returns {void}
   */
  /**
  * @function activate
  * @memberof _MEMBER_OF_
  * @description - This function activates the pinning functionality by setting the enabled flag to true and enabling pinning in the options.
  *
  * @returns {void} No return value.
  *
  */
  this.activate = function () {
    this.updatedFeatures = [];
    this.enabled = true;
    geoflo.options['pinning'].enable = true;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name deactivate
   * @description This function deactivates pinning by setting enabled to false, disabling pinning in options, clearing buffer, pinableFeatures, and pinningFeatures, and resetting updatedFeatures.
   */
  this.deactivate = function () {
    this.enabled = false;
    geoflo.options['pinning'].enable = false;
    this.resetFeatures();
    delete this.buffer;
    delete geoflo.pinableFeatures;
    delete geoflo.pinningFeatures;
    this.updatedFeatures = [];
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name getFeatures
   * @description Retrieves the features from the pinnedFeatures array in the context object.
   * @returns {Array} An array of features extracted from the pinnedFeatures array.
   */
  this.getFeatures = function () {
    var features = geoflo.pinnedFeatures && geoflo.pinnedFeatures.length ? geoflo.pinnedFeatures.map(function (feature) {
      return feature.feature;
    }) : [];
    return features;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name setBuffer
   * @description This function creates a buffer around the provided coordinates based on the pinning buffer option.
   * @param {Array<number>} coords - The coordinates [longitude, latitude] to create the buffer around.
   * @returns {Object|boolean} Returns the buffer object containing the feature, radius, and coordinates if successful, otherwise false.
   */
  this.setBuffer = function (coords) {
    delete this.buffer;
    if (!this.enabled) return false;
    if (!coords || !geoflo.options.pinning.buffer) return false;
    var buffer = turf.buffer(turf.point(coords), geoflo.options.pinning.buffer);
    var radius = turf.polygon(buffer.geometry.coordinates);
    this.buffer = {
      feature: buffer,
      radius: radius,
      coords: coords
    };
    return this.buffer;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name setFeatures
   * @description Sets the pinable features based on the provided coordinates and fires an event.
   * @param {Object} coords - The coordinates to determine nearby features.
   * @returns {Array} - An array of pinable features.
   */
  this.setFeatures = function (coords) {
    geoflo.pinableFeatures = [];
    if (!this.enabled || !coords) return false;
    geoflo.pinableFeatures = this.getNearByFeatures(coords);
    geoflo.fire('pinning.add', {
      features: geoflo.pinableFeatures,
      buffer: this.buffer
    });
    return geoflo.pinableFeatures;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name resetFeatures
   * @description Resets the updated features by adding them to the canvas context.
   * @returns {boolean} Returns false if there are no updated features to reset.
   */
  this.resetFeatures = function () {
    if (!this.updatedFeatures.length) return false;
    geoflo.addFeatures(this.updatedFeatures, true);
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name updateFeatures
   * @description This function updates the features if the pinning functionality is enabled. It updates the pinable features, pinned features, and triggers events accordingly.
   * @returns {boolean} Returns false if the pinning functionality is not enabled, otherwise returns the updated pinning features.
   */
  this.updateFeatures = function () {
    if (!this.enabled) return false;
    if (!geoflo.pinableFeatures || !geoflo.pinableFeatures.length) return delete geoflo.pinningFeatures, false;
    updateFeatures.call(this, geoflo.pinableFeatures);
    geoflo.Features.updateFeatures(geoflo.pinableFeatures, {
      type: 'pinning',
      coords: geoflo.snappedVertex,
      addUnits: true
    });
    geoflo.pinnedFeatures = geoflo.Utilities.cloneDeep(geoflo.pinableFeatures);
    geoflo.fire('pinning.update', {
      feature: geoflo.hotFeature,
      vertex: turf.point(geoflo.snappedVertex),
      features: geoflo.pinnedFeatures
    });
    return geoflo.pinningFeatures;
  };

  /**
   * @function
      * @memberof module:geoflo.Pinning
   * @name getNearByFeatures
   * @description This function calculates the radius based on the map zoom level and retrieves nearby features within that radius.
   * @param {Array<number>} coords - The coordinates [longitude, latitude] to find nearby features.
   * @returns {Array<Object>} An array of nearby features with their IDs, types, indices, and feature objects.
   */
  this.getNearByFeatures = function (coords) {
    if (!this.enabled || !coords) return false;
    var hotFeature = geoflo.hotFeature;
    var calculatedRadius = geoflo.options.snapping.distance * Math.pow(2, Math.max(1, 19 - geoflo.map.getZoom()));
    var radiusInKm = calculatedRadius / 100000;
    var buffer = this.setBuffer(coords);
    var features = geoflo.getRenderedDrawnFeatures({
      lng: coords[0],
      lat: coords[1]
    }, radiusInKm);
    var nearby = [];
    features.forEach(function (feature) {
      turf.coordEach(feature, function (coord, index) {
        var isNearby = false;
        if (buffer.radius && turf.booleanWithin(turf.point(coord), buffer.radius)) isNearby = true;
        if (!isNearby && buffer.coords && geoflo.Utilities.isPointEqual(coord, buffer.coords)) isNearby = true;
        if (!isNearby) return;
        if (hotFeature && hotFeature.id === feature.id) return;
        nearby.push({
          id: feature.id || feature.properties.id,
          type: feature.properties.type,
          index: index,
          feature: feature
        });
      });
    });
    return nearby;
  };
  if (geoflo.options['pinning'].enable) this.activate();
  function updateFeatures(features) {
    if (!features || !features.length) return false;
    features.forEach(function (feature) {
      var pinned = this.updatedFeatures.find(function (f) {
        return f.id === feature.id;
      });
      if (pinned) return;
      this.updatedFeatures.push(geoflo.Utilities.cloneDeep(feature.feature));
    }, this);
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pinning);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0ssT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDQyxNQUFNLEVBQUUsSUFBSSxDQUFDSCxRQUFRLENBQUMsQ0FBQztFQUdyRCxTQUFTNEIsY0FBY0EsQ0FBQ2xCLFFBQVEsRUFBRTtJQUM5QixJQUFJLENBQUNBLFFBQVEsSUFBSSxDQUFDQSxRQUFRLENBQUNFLE1BQU0sRUFBRSxPQUFPLEtBQUs7SUFFL0NGLFFBQVEsQ0FBQ3VDLE9BQU8sQ0FBQyxVQUFVbkMsT0FBTyxFQUFFO01BQ2hDLElBQUk2QyxNQUFNLEdBQUcsSUFBSSxDQUFDNUQsZUFBZSxDQUFDNkQsSUFBSSxDQUFDLFVBQVVDLENBQUMsRUFBRTtRQUFFLE9BQU9BLENBQUMsQ0FBQ0wsRUFBRSxLQUFLMUMsT0FBTyxDQUFDMEMsRUFBRTtNQUFDLENBQUMsQ0FBQztNQUNuRixJQUFJRyxNQUFNLEVBQUU7TUFDWixJQUFJLENBQUM1RCxlQUFlLENBQUMwRCxJQUFJLENBQUM1RCxNQUFNLENBQUNvQyxTQUFTLENBQUNDLFNBQVMsQ0FBQ3BCLE9BQU8sQ0FBQ0EsT0FBTyxDQUFDLENBQUM7SUFDMUUsQ0FBQyxFQUFFLElBQUksQ0FBQztFQUNaO0FBQ0osQ0FBQztBQUVELGlFQUFlbkIsT0FBTyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bzb2x1dGVncmF0ZS9nZW9mbG8tc2RrLy4vc3JjL1Bpbm5pbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbWl4aW5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvXG4gKiBAbmFtZSBQaW5uaW5nXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIHBpbm5pbmcgZnVuY3Rpb25hbGl0eSBmb3IgdGhlIEdlb2ZsbyBhcHBsaWNhdGlvbi4gSXQgYWxsb3dzIHVzZXJzIHRvIHBpbiBmZWF0dXJlcyB0byB0aGUgbWFwIGJ5IGNyZWF0aW5nIGEgYnVmZmVyIGFyb3VuZCB0aGUgZmVhdHVyZSBhbmQgc25hcHBpbmcgdG8gbmVhcmJ5IGZlYXR1cmVzLlxuICogQHBhcmFtIHtPYmplY3R9IG1vZGUgLSBUaGUgbW9kZSBvYmplY3QgY29udGFpbmluZyB0aGUgdHlwZSBvZiBtb2RlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgUGlubmluZyBvYmplY3QuXG4gKi9cbmNvbnN0IFBpbm5pbmcgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgIGNvbnN0IGdlb2ZsbyA9IHRoaXMuZ2VvZmxvO1xuXG4gICAgdGhpcy50eXBlID0gbW9kZS50eXBlO1xuICAgIHRoaXMudXBkYXRlZEZlYXR1cmVzID0gW107XG5cblx0LyoqXG5cdCAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvLlBpbm5pbmdcblx0ICogQG5hbWUgYWN0aXZhdGVcblx0ICogQGRlc2NyaXB0aW9uIEFjdGl2YXRlcyB0aGUgZmVhdHVyZSBieSBzZXR0aW5nIHRoZSBlbmFibGVkIGZsYWcgdG8gdHJ1ZSBhbmQgZW5hYmxpbmcgcGlubmluZyBpbiB0aGUgb3B0aW9ucy5cblx0ICogQHBhcmFtcyB7dm9pZH0gTm9uZVxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG4gICAgLyoqXG4gICAgKiBAZnVuY3Rpb24gYWN0aXZhdGVcbiAgICAqIEBtZW1iZXJvZiBfTUVNQkVSX09GX1xuICAgICogQGRlc2NyaXB0aW9uIC0gVGhpcyBmdW5jdGlvbiBhY3RpdmF0ZXMgdGhlIHBpbm5pbmcgZnVuY3Rpb25hbGl0eSBieSBzZXR0aW5nIHRoZSBlbmFibGVkIGZsYWcgdG8gdHJ1ZSBhbmQgZW5hYmxpbmcgcGlubmluZyBpbiB0aGUgb3B0aW9ucy5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7dm9pZH0gTm8gcmV0dXJuIHZhbHVlLlxuICAgICpcbiAgICAqL1xuICAgIHRoaXMuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlZEZlYXR1cmVzID0gW107XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGdlb2Zsby5vcHRpb25zWydwaW5uaW5nJ10uZW5hYmxlID0gdHJ1ZTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvLlBpbm5pbmdcblx0ICogQG5hbWUgZGVhY3RpdmF0ZVxuXHQgKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBkZWFjdGl2YXRlcyBwaW5uaW5nIGJ5IHNldHRpbmcgZW5hYmxlZCB0byBmYWxzZSwgZGlzYWJsaW5nIHBpbm5pbmcgaW4gb3B0aW9ucywgY2xlYXJpbmcgYnVmZmVyLCBwaW5hYmxlRmVhdHVyZXMsIGFuZCBwaW5uaW5nRmVhdHVyZXMsIGFuZCByZXNldHRpbmcgdXBkYXRlZEZlYXR1cmVzLlxuXHQgKi9cbiAgICB0aGlzLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBnZW9mbG8ub3B0aW9uc1sncGlubmluZyddLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0RmVhdHVyZXMoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuYnVmZmVyO1xuICAgICAgICBkZWxldGUgZ2VvZmxvLnBpbmFibGVGZWF0dXJlcztcbiAgICAgICAgZGVsZXRlIGdlb2Zsby5waW5uaW5nRmVhdHVyZXM7XG4gICAgICAgIHRoaXMudXBkYXRlZEZlYXR1cmVzID0gW107XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmdlb2Zsby5QaW5uaW5nXG5cdCAqIEBuYW1lIGdldEZlYXR1cmVzXG5cdCAqIEBkZXNjcmlwdGlvbiBSZXRyaWV2ZXMgdGhlIGZlYXR1cmVzIGZyb20gdGhlIHBpbm5lZEZlYXR1cmVzIGFycmF5IGluIHRoZSBjb250ZXh0IG9iamVjdC5cblx0ICogQHJldHVybnMge0FycmF5fSBBbiBhcnJheSBvZiBmZWF0dXJlcyBleHRyYWN0ZWQgZnJvbSB0aGUgcGlubmVkRmVhdHVyZXMgYXJyYXkuXG5cdCAqL1xuICAgIHRoaXMuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IGdlb2Zsby5waW5uZWRGZWF0dXJlcyAmJiBnZW9mbG8ucGlubmVkRmVhdHVyZXMubGVuZ3RoID8gZ2VvZmxvLnBpbm5lZEZlYXR1cmVzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkgeyByZXR1cm4gZmVhdHVyZS5mZWF0dXJlIH0pIDogW107XG4gICAgICAgIHJldHVybiBmZWF0dXJlcztcbiAgICB9XG5cblx0LyoqXG5cdCAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Z2VvZmxvLlBpbm5pbmdcblx0ICogQG5hbWUgc2V0QnVmZmVyXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBidWZmZXIgYXJvdW5kIHRoZSBwcm92aWRlZCBjb29yZGluYXRlcyBiYXNlZCBvbiB0aGUgcGlubmluZyBidWZmZXIgb3B0aW9uLlxuXHQgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkcyAtIFRoZSBjb29yZGluYXRlcyBbbG9uZ2l0dWRlLCBsYXRpdHVkZV0gdG8gY3JlYXRlIHRoZSBidWZmZXIgYXJvdW5kLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fGJvb2xlYW59IFJldHVybnMgdGhlIGJ1ZmZlciBvYmplY3QgY29udGFpbmluZyB0aGUgZmVhdHVyZSwgcmFkaXVzLCBhbmQgY29vcmRpbmF0ZXMgaWYgc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIGZhbHNlLlxuXHQgKi9cbiAgICB0aGlzLnNldEJ1ZmZlciA9IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuYnVmZmVyO1xuXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghY29vcmRzIHx8ICFnZW9mbG8ub3B0aW9ucy5waW5uaW5nLmJ1ZmZlcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciBidWZmZXIgPSB0dXJmLmJ1ZmZlcih0dXJmLnBvaW50KGNvb3JkcyksIGdlb2Zsby5vcHRpb25zLnBpbm5pbmcuYnVmZmVyKTtcbiAgICAgICAgdmFyIHJhZGl1cyA9IHR1cmYucG9seWdvbihidWZmZXIuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpO1xuXG4gICAgICAgIHRoaXMuYnVmZmVyID0ge1xuICAgICAgICAgICAgZmVhdHVyZTogYnVmZmVyLFxuICAgICAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgICAgICBjb29yZHM6IGNvb3Jkc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyO1xuICAgIH1cblxuXHQvKipcblx0ICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpnZW9mbG8uUGlubmluZ1xuXHQgKiBAbmFtZSBzZXRGZWF0dXJlc1xuXHQgKiBAZGVzY3JpcHRpb24gU2V0cyB0aGUgcGluYWJsZSBmZWF0dXJlcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZXMgYW5kIGZpcmVzIGFuIGV2ZW50LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29vcmRzIC0gVGhlIGNvb3JkaW5hdGVzIHRvIGRldGVybWluZSBuZWFyYnkgZmVhdHVyZXMuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gLSBBbiBhcnJheSBvZiBwaW5hYmxlIGZlYXR1cmVzLlxuXHQgKi9cbiAgICB0aGlzLnNldEZlYXR1cmVzID0gZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICBnZW9mbG8ucGluYWJsZUZlYXR1cmVzID0gW107XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkIHx8ICFjb29yZHMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZ2VvZmxvLnBpbmFibGVGZWF0dXJlcyA9IHRoaXMuZ2V0TmVhckJ5RmVhdHVyZXMoY29vcmRzKTtcbiAgICAgICAgZ2VvZmxvLmZpcmUoJ3Bpbm5pbmcuYWRkJywgeyBmZWF0dXJlczogZ2VvZmxvLnBpbmFibGVGZWF0dXJlcywgYnVmZmVyOiB0aGlzLmJ1ZmZlciB9KTtcbiAgICAgICAgcmV0dXJuIGdlb2Zsby5waW5hYmxlRmVhdHVyZXM7XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmdlb2Zsby5QaW5uaW5nXG5cdCAqIEBuYW1lIHJlc2V0RmVhdHVyZXNcblx0ICogQGRlc2NyaXB0aW9uIFJlc2V0cyB0aGUgdXBkYXRlZCBmZWF0dXJlcyBieSBhZGRpbmcgdGhlbSB0byB0aGUgY2FudmFzIGNvbnRleHQuXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGZhbHNlIGlmIHRoZXJlIGFyZSBubyB1cGRhdGVkIGZlYXR1cmVzIHRvIHJlc2V0LlxuXHQgKi9cbiAgICB0aGlzLnJlc2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy51cGRhdGVkRmVhdHVyZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGdlb2Zsby5hZGRGZWF0dXJlcyh0aGlzLnVwZGF0ZWRGZWF0dXJlcywgdHJ1ZSk7XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmdlb2Zsby5QaW5uaW5nXG5cdCAqIEBuYW1lIHVwZGF0ZUZlYXR1cmVzXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIGZlYXR1cmVzIGlmIHRoZSBwaW5uaW5nIGZ1bmN0aW9uYWxpdHkgaXMgZW5hYmxlZC4gSXQgdXBkYXRlcyB0aGUgcGluYWJsZSBmZWF0dXJlcywgcGlubmVkIGZlYXR1cmVzLCBhbmQgdHJpZ2dlcnMgZXZlbnRzIGFjY29yZGluZ2x5LlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBmYWxzZSBpZiB0aGUgcGlubmluZyBmdW5jdGlvbmFsaXR5IGlzIG5vdCBlbmFibGVkLCBvdGhlcndpc2UgcmV0dXJucyB0aGUgdXBkYXRlZCBwaW5uaW5nIGZlYXR1cmVzLlxuXHQgKi9cbiAgICB0aGlzLnVwZGF0ZUZlYXR1cmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWdlb2Zsby5waW5hYmxlRmVhdHVyZXMgfHwgIWdlb2Zsby5waW5hYmxlRmVhdHVyZXMubGVuZ3RoKSByZXR1cm4gZGVsZXRlIGdlb2Zsby5waW5uaW5nRmVhdHVyZXMsIGZhbHNlO1xuICAgICAgICB1cGRhdGVGZWF0dXJlcy5jYWxsKHRoaXMsIGdlb2Zsby5waW5hYmxlRmVhdHVyZXMpO1xuICAgICAgICBnZW9mbG8uRmVhdHVyZXMudXBkYXRlRmVhdHVyZXMoZ2VvZmxvLnBpbmFibGVGZWF0dXJlcywgeyB0eXBlOiAncGlubmluZycsIGNvb3JkczogZ2VvZmxvLnNuYXBwZWRWZXJ0ZXgsIGFkZFVuaXRzOiB0cnVlIH0pO1xuICAgICAgICBnZW9mbG8ucGlubmVkRmVhdHVyZXMgPSBnZW9mbG8uVXRpbGl0aWVzLmNsb25lRGVlcChnZW9mbG8ucGluYWJsZUZlYXR1cmVzKTtcbiAgICAgICAgZ2VvZmxvLmZpcmUoJ3Bpbm5pbmcudXBkYXRlJywgeyBmZWF0dXJlOiBnZW9mbG8uaG90RmVhdHVyZSwgdmVydGV4OiB0dXJmLnBvaW50KGdlb2Zsby5zbmFwcGVkVmVydGV4KSwgZmVhdHVyZXM6IGdlb2Zsby5waW5uZWRGZWF0dXJlcyB9KTtcbiAgICAgICAgcmV0dXJuIGdlb2Zsby5waW5uaW5nRmVhdHVyZXM7XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmdlb2Zsby5QaW5uaW5nXG5cdCAqIEBuYW1lIGdldE5lYXJCeUZlYXR1cmVzXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIHJhZGl1cyBiYXNlZCBvbiB0aGUgbWFwIHpvb20gbGV2ZWwgYW5kIHJldHJpZXZlcyBuZWFyYnkgZmVhdHVyZXMgd2l0aGluIHRoYXQgcmFkaXVzLlxuXHQgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkcyAtIFRoZSBjb29yZGluYXRlcyBbbG9uZ2l0dWRlLCBsYXRpdHVkZV0gdG8gZmluZCBuZWFyYnkgZmVhdHVyZXMuXG5cdCAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBBbiBhcnJheSBvZiBuZWFyYnkgZmVhdHVyZXMgd2l0aCB0aGVpciBJRHMsIHR5cGVzLCBpbmRpY2VzLCBhbmQgZmVhdHVyZSBvYmplY3RzLlxuXHQgKi9cbiAgICB0aGlzLmdldE5lYXJCeUZlYXR1cmVzID0gZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCB8fCAhY29vcmRzKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGhvdEZlYXR1cmUgPSBnZW9mbG8uaG90RmVhdHVyZTtcbiAgICAgICAgdmFyIGNhbGN1bGF0ZWRSYWRpdXMgPSBnZW9mbG8ub3B0aW9ucy5zbmFwcGluZy5kaXN0YW5jZSAqIE1hdGgucG93KDIsIE1hdGgubWF4KDEsIDE5IC0gZ2VvZmxvLm1hcC5nZXRab29tKCkpKTtcbiAgICAgICAgdmFyIHJhZGl1c0luS20gPSBjYWxjdWxhdGVkUmFkaXVzIC8gMTAwMDAwO1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5zZXRCdWZmZXIoY29vcmRzKTtcbiAgICAgICAgdmFyIGZlYXR1cmVzID0gZ2VvZmxvLmdldFJlbmRlcmVkRHJhd25GZWF0dXJlcyh7bG5nOiBjb29yZHNbMF0sIGxhdDogY29vcmRzWzFdfSwgcmFkaXVzSW5LbSk7XG4gICAgICAgIHZhciBuZWFyYnkgPSBbXTtcblxuICAgICAgICBmZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICB0dXJmLmNvb3JkRWFjaChmZWF0dXJlLCBmdW5jdGlvbiAoY29vcmQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzTmVhcmJ5ID0gZmFsc2U7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5yYWRpdXMgJiYgdHVyZi5ib29sZWFuV2l0aGluKHR1cmYucG9pbnQoY29vcmQpLCBidWZmZXIucmFkaXVzKSkgaXNOZWFyYnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghaXNOZWFyYnkgJiYgYnVmZmVyLmNvb3JkcyAmJiBnZW9mbG8uVXRpbGl0aWVzLmlzUG9pbnRFcXVhbChjb29yZCwgYnVmZmVyLmNvb3JkcykpIGlzTmVhcmJ5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmVhcmJ5KSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGhvdEZlYXR1cmUgJiYgaG90RmVhdHVyZS5pZCA9PT0gZmVhdHVyZS5pZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBuZWFyYnkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBmZWF0dXJlLmlkIHx8IGZlYXR1cmUucHJvcGVydGllcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZmVhdHVyZS5wcm9wZXJ0aWVzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZTogZmVhdHVyZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5lYXJieTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGdlb2Zsby5vcHRpb25zWydwaW5uaW5nJ10uZW5hYmxlKSB0aGlzLmFjdGl2YXRlKCk7XG5cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUZlYXR1cmVzKGZlYXR1cmVzKSB7XG4gICAgICAgIGlmICghZmVhdHVyZXMgfHwgIWZlYXR1cmVzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHZhciBwaW5uZWQgPSB0aGlzLnVwZGF0ZWRGZWF0dXJlcy5maW5kKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLmlkID09PSBmZWF0dXJlLmlkIH0pO1xuICAgICAgICAgICAgaWYgKHBpbm5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVkRmVhdHVyZXMucHVzaChnZW9mbG8uVXRpbGl0aWVzLmNsb25lRGVlcChmZWF0dXJlLmZlYXR1cmUpKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUGlubmluZzsiXSwibmFtZXMiOlsiUGlubmluZyIsIm1vZGUiLCJnZW9mbG8iLCJ0eXBlIiwidXBkYXRlZEZlYXR1cmVzIiwiYWN0aXZhdGUiLCJlbmFibGVkIiwib3B0aW9ucyIsImVuYWJsZSIsImRlYWN0aXZhdGUiLCJyZXNldEZlYXR1cmVzIiwiYnVmZmVyIiwicGluYWJsZUZlYXR1cmVzIiwicGlubmluZ0ZlYXR1cmVzIiwiZ2V0RmVhdHVyZXMiLCJmZWF0dXJlcyIsInBpbm5lZEZlYXR1cmVzIiwibGVuZ3RoIiwibWFwIiwiZmVhdHVyZSIsInNldEJ1ZmZlciIsImNvb3JkcyIsInBpbm5pbmciLCJ0dXJmIiwicG9pbnQiLCJyYWRpdXMiLCJwb2x5Z29uIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsInNldEZlYXR1cmVzIiwiZ2V0TmVhckJ5RmVhdHVyZXMiLCJmaXJlIiwiYWRkRmVhdHVyZXMiLCJ1cGRhdGVGZWF0dXJlcyIsImNhbGwiLCJGZWF0dXJlcyIsInNuYXBwZWRWZXJ0ZXgiLCJhZGRVbml0cyIsIlV0aWxpdGllcyIsImNsb25lRGVlcCIsImhvdEZlYXR1cmUiLCJ2ZXJ0ZXgiLCJjYWxjdWxhdGVkUmFkaXVzIiwic25hcHBpbmciLCJkaXN0YW5jZSIsIk1hdGgiLCJwb3ciLCJtYXgiLCJnZXRab29tIiwicmFkaXVzSW5LbSIsImdldFJlbmRlcmVkRHJhd25GZWF0dXJlcyIsImxuZyIsImxhdCIsIm5lYXJieSIsImZvckVhY2giLCJjb29yZEVhY2giLCJjb29yZCIsImluZGV4IiwiaXNOZWFyYnkiLCJib29sZWFuV2l0aGluIiwiaXNQb2ludEVxdWFsIiwiaWQiLCJwdXNoIiwicHJvcGVydGllcyIsInBpbm5lZCIsImZpbmQiLCJmIl0sInNvdXJjZVJvb3QiOiIifQ==